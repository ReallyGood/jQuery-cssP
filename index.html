<!doctype html>
<html lang="en-US">
<head>
	<meta charset="utf-8">
	<title>jQuery cssP</title>
	<style>
		h1 {position: relative; display: inline-block;}
		h1:after {content: ''; position: absolute; background: orange; width: 100px; height: 3px; bottom: 2px;}
	</style>
</head>
<body>
	<h1>jQuery cssP</h1>
	<p class="intro">Hello, world</p>
	<p>The <code>:before</code> stylesheet of the heading above is: <code><output></output></code></p>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
	<script src="jquery.cssp.js"></script>
	<script>
		$('h1').cssP({
			before: 'content: "Introducing: ";', // accepts a string or a function which should return a string
			after: function(){
				var direction = Math.random() < .5 ? 'left' : 'right';
				var distance = Math.floor( Math.random() * 10 );				
				return direction + ': ' + distance + 'px;';
			}
		});
		
		$('p.intro').cssP({
			after: 'content: "!";'
		});
		
		$('output').html( $('h1').cssP('before') );
	</script>
</body>
</html>