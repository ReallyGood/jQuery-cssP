/*
 * Socialite v1.0
 * http://socialitejs.com
 * Copyright (c) 2011 David Bushell
 * Dual-licensed under the BSD or MIT licenses: http://socialitejs.com/license.txt
 */

window.Socialite=function(p,j,i){var k={},f={},g={},e={},h={},q={},l={},n=p.setTimeout,o=encodeURIComponent,m="function"===typeof j.getElementsByClassName;f.appendScript=function(a,c,b){if(e[a]||h[a]===i)return!1;var d=e[a]=j.createElement("script");d.async=!0;d.src=h[a];d.onload=d.onreadystatechange=function(){if(!f.hasLoaded(a)){var c=d.readyState;if(!c||"loaded"===c||"complete"===c)q[a]=!0,d.onload=d.onreadystatechange=null,b!==i?"function"===typeof b&&b():f.activateCache(a)}};c&&(d.id=c);j.body.appendChild(d);
return!0};f.hasLoaded=function(a){return"string"!==typeof a?!1:!0===q[a]};f.removeScript=function(a){if(!f.hasLoaded(a))return!1;j.body.removeChild(e[a]);e[a]=q[a]=!1;return!0};f.createIframe=function(a,c){var b=j.createElement("iframe");b.style.cssText="overflow: hidden; border: none;";b.setAttribute("allowtransparency","true");b.setAttribute("frameborder","0");b.setAttribute("scrolling","no");b.setAttribute("src",a);c!==i&&(m?b.onload=b.onreadystatechange=function(){b.onload=b.onreadystatechange=
null;f.activateInstance(c)}:n(function(){f.activateInstance(c)},10));return b};f.activateInstance=function(a){a.loaded||(a.loaded=!0,a.container.className+=" socialite-loaded")};f.activateCache=function(a){if(l[a]!==i)for(var c=0;c<l[a].length;c++)f.activateInstance(l[a][c])};f.copyDataAttributes=function(a,c){var b,d=a.attributes;for(b=0;b<d.length;b++){var f=d[b].name,g=d[b].value;0===f.indexOf("data-")&&g.length&&c.setAttribute(f,g)}};f.getDataAttributes=function(a,c,b){for(var d="",f={},g=a.attributes,
a=0;a<g.length;a++){var e=g[a].name,i=g[a].value;0===e.indexOf("data-")&&i.length&&(!0===c&&(e=e.substring(5)),b?f[e]=i:d+=o(e)+"="+o(i)+"&")}return b?f:d};f.getElements=function(a,c){if(m)return a.getElementsByClassName(c);for(var b=0,d=[],f=a.getElementsByTagName("*"),g=f.length,b=0;b<g;b++)-1!==(" "+f[b].className+" ").indexOf(" "+c+" ")&&d.push(f[b]);return d};k.activate=function(a,c){k.load(null,a,c)};k.load=function(a,c,b){a="object"===typeof a&&null!==a&&1===a.nodeType?a:j;if(c===i||null===
c){var d=c=f.getElements(a,"socialite"),e=c.length;if(e){if(typeof d.item!==i)for(var d=[],h=0;h<e;h++)d[h]=c[h];k.load(a,d,b)}}else if("object"===typeof c&&c.length)for(d=0;d<c.length;d++)k.load(a,c[d],b);else if(!("object"!==typeof c||1!==c.nodeType)){if("string"!==typeof b||g[b]===i){b=null;d=c.className.split(" ");for(e=0;e<d.length;e++)if(g[d[e]]!==i){b=d[e];break}if("string"!==typeof b)return}"string"===typeof g[b]&&(b=g[b]);"function"===typeof g[b]&&(d=j.createElement("div"),e=j.createElement("div"),
d.className="socialised "+b,e.className="socialite-button",h=c.parentNode,null===h?(h=a===j?j.body:a,h.appendChild(d)):h.insertBefore(d,c),d.appendChild(e),e.appendChild(c),c.className=c.className.replace(/\bsocialite\b/,""),l[b]===i&&(l[b]=[]),a={elem:c,button:e,container:d,parent:h,loaded:!1},l[b].push(a),g[b](a,f))}};k.extend=function(a,c,b){if("string"!==typeof a||"function"!==typeof c)return!1;a=0<a.indexOf(" ")?a.split(" "):[a];if(g[a[0]]!==i)return!1;for(var d=1;d<a.length;d++)g[a[d]]=a[0];
b!==i&&"string"===typeof b&&(h[a[0]]=b);g[a[0]]=c;return!0};return k}(window,window.document);
(function(p,j,i,k){i.extend("twitter tweet",function(f,g){var e=f.elem,h=" "+e.className+" ";if(-1!==h.indexOf(" tweet "))e.className="twitter-tweet";else{for(var i=j.createElement("a"),l=e.getAttribute("data-type"),n=["share","follow","hashtag","mention"],o=0,m=1;4>m;m++)if(l===n[m]||-1!==h.indexOf(" "+n[m]+" "))o=m;i.className="twitter-"+n[o]+"-button";e.getAttribute("href")!==k&&i.setAttribute("href",e.href);g.copyDataAttributes(e,i);f.button.replaceChild(i,e)}e=p.twttr;"object"===typeof e&&"object"===
typeof e.widgets&&"function"===typeof e.widgets.load?(e.widgets.load(),g.activateInstance(f)):(g.hasLoaded("twitter")&&g.removeScript("twitter"),g.appendScript("twitter","twitter-wjs",!1)&&(p.twttr={_e:[function(){g.activateCache("twitter")}]}))},"//platform.twitter.com/widgets.js");i.extend("facebook",function(f,g){var e=f.elem,h=j.createElement("div");g.hasLoaded("facebook")?(h="//www.facebook.com/plugins/like.php?"+g.getDataAttributes(e,!0),h=g.createIframe(h,f),f.button.replaceChild(h,e)):(h.className=
"fb-like",g.copyDataAttributes(e,h),f.button.replaceChild(h,e),g.appendScript("facebook","facebook-jssdk"))},"//connect.facebook.net/en_US/all.js#xfbml=1")})(window,window.document,window.Socialite);